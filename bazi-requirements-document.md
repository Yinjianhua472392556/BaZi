# 八字微信小程序需求文档

## 项目概述

### 项目名称
八字运势小程序

### 项目定位
面向年轻人的娱乐性八字测算微信小程序，结合AI技术提供个性化解读，通过广告实现盈利。

### 目标用户
- 主要用户：18-35岁年轻人
- 使用场景：娱乐消遣、朋友互动、运势了解
- 用户特点：对传统文化有兴趣但不深入，喜欢分享和互动

## 功能需求

### 1. 核心功能

#### 1.1 八字排盘
**功能描述**：根据用户输入的出生信息计算八字
- 输入项：出生年月日时、性别、可选地区
- 输出项：年月日时四柱天干地支、五行属性分布
- AI增强：个性化八字解读（年轻化语言风格）

**技术要求**：
- 公历转农历算法
- 天干地支计算
- 五行生克关系计算
- 十神关系计算

#### 1.2 缘分指数测算
**功能描述**：输入两人出生信息，计算八字匹配度
- 输入项：两人完整出生信息
- 输出项：缘分指数（百分比）、相处建议、性格互补分析
- AI增强：智能情感建议，恋爱小贴士

#### 1.3 今日最旺星座
**功能描述**：每日更新的星座运势排行
- 展示前3名最旺星座
- 简短的运势描述
- 每日自动更新

### 2. AI增强功能

#### 2.1 个性化解读
- 基于八字特征生成独特解读
- 年轻化、娱乐化的表达方式
- 避免迷信色彩，注重趣味性

#### 2.2 智能问答（可选）
- 用户可追问八字相关问题
- AI扮演"算命大师"角色
- 限制：每日免费3次，超出需观看广告

### 3. 用户体验功能

#### 3.1 结果分享
- 生成精美分享卡片
- 一键分享到微信朋友圈/群聊
- 多种视觉风格模板

#### 3.2 历史记录
- 本地存储用户查询历史
- 快速重新查看之前的结果

## 技术架构

### 前端架构
- **平台**：微信小程序原生开发
- **UI框架**：Vant Weapp
- **图表库**：ECharts for 小程序
- **开发工具**：微信开发者工具

### 后端架构
- **框架**：Python + FastAPI
- **数据库**：SQLite（初期）→ MySQL（扩展期）
- **AI服务**：阿里云通义千问API
- **服务器**：腾讯云轻量应用服务器

### 部署方案
- **容器化**：Docker部署
- **管理工具**：宝塔面板
- **域名备案**：使用国内云服务商

## 商业模式

### 广告盈利策略

#### 广告位设计
1. **横幅广告**
   - 位置：首页底部、结果页底部
   - 类型：Banner广告（320×50）
   - 频次：常驻显示

2. **插屏广告**
   - 触发时机：查看八字结果后、缘分测算后
   - 频次：每个功能使用后显示一次
   - 限制：24小时内同类型广告最多3次

3. **激励视频广告**
   - 用途：解锁AI详细解读
   - 位置：结果页"查看AI分析"按钮

#### 收益预估
- **目标日活**：1000-5000人
- **人均广告展示**：3-5次/日
- **预估点击率**：1-3%
- **月收益预估**：500-2000元

### 成本控制
- **服务器**：24-30元/月
- **AI调用**：20-50元/月
- **其他**：域名等约5元/月
- **总成本**：50-85元/月

## 开发计划

### 开发阶段

#### 第一阶段（2周）- MVP版本
- [x] 项目需求确认
- [ ] 环境搭建和基础架构
- [ ] 八字计算核心算法
- [ ] 基础UI界面
- [ ] AI解读集成

#### 第二阶段（1周）- 功能完善
- [ ] 缘分指数功能
- [ ] 今日最旺星座
- [ ] 分享功能实现
- [ ] 广告集成

#### 第三阶段（1周）- 测试上线
- [ ] 功能测试和优化
- [ ] 性能优化
- [ ] 小程序审核提交
- [ ] 正式发布

### 技术风险评估

#### 低风险
- 八字计算算法（传统算法，资料充足）
- 微信小程序开发（文档完善）
- 基础UI实现

#### 中风险
- AI API集成和成本控制
- 广告收益优化
- 用户留存率

#### 高风险
- 小程序审核通过率
- 市场接受度验证

## 数据监控指标

### 核心指标
- **用户指标**：日活、月活、留存率
- **功能指标**：各功能使用频次、用户路径
- **商业指标**：广告展示量、点击率、收益
- **技术指标**：API调用量、响应时间、错误率

### 优化策略
- A/B测试不同广告位置效果
- 分析用户行为优化产品流程
- 监控AI成本，动态调整调用策略

## 合规要求

### 小程序审核
- 避免封建迷信内容
- 强调娱乐性质，添加免责声明
- 确保用户隐私保护

### 内容规范
- 所有解读内容需正面积极
- 避免恐吓性、绝对性表述
- 添加"仅供娱乐参考"提示

## 后续扩展计划

### V2.0版本功能
- 八字起名功能
- 择吉日功能
- 用户社区论坛

### 商业化扩展
- 付费会员体系
- 专家咨询服务
- 周边产品销售

---

**文档版本**：V1.0  
**创建日期**：2025年9月18日  
**最后更新**：2025年9月18日
