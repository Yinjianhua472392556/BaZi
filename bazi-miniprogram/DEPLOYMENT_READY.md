# ğŸš€ å…«å­—è¿åŠ¿å°ç¨‹åº - éƒ¨ç½²å°±ç»ªæ¸…å•

## âœ… é…ç½®å®ŒæˆçŠ¶æ€

### æœåŠ¡å™¨ä¿¡æ¯
- **æœåŠ¡å™¨IP**: 119.91.146.128 âœ…
- **åŸŸå**: bazi365.top âœ…  
- **APIåŸŸå**: api.bazi365.top âœ…
- **DNSè§£æ**: å·²ç”Ÿæ•ˆ âœ…
- **SSLé‚®ç®±**: 18620526218@163.com âœ…

### å·²å®Œæˆçš„é…ç½®æ–‡ä»¶
- âœ… `deployment/deploy_config.sh` - æœåŠ¡å™¨éƒ¨ç½²é…ç½®
- âœ… `deployment/miniprogram_api_config.js` - å°ç¨‹åºAPIé…ç½®

## ğŸ¯ ç«‹å³å¯æ‰§è¡Œçš„éƒ¨ç½²æ­¥éª¤

### ç¬¬ä¸€æ­¥ï¼šæäº¤ä»£ç åˆ°GitHub
```bash
git add .
git commit -m "ğŸ”§ é…ç½®éƒ¨ç½²å‚æ•° - å‡†å¤‡ä¸Šçº¿"
git push origin main
```

### ç¬¬äºŒæ­¥ï¼šè®¾ç½®GitHubä»“åº“ä¸ºå…¬å¼€
1. è®¿é—®ï¼šhttps://github.com/Yinjianhua472392556/BaZi
2. Settings â†’ General â†’ Danger Zone
3. Change repository visibility â†’ Make public

### ç¬¬ä¸‰æ­¥ï¼šåœ¨æœåŠ¡å™¨æ‰§è¡Œéƒ¨ç½²
```bash
# è¿æ¥æœåŠ¡å™¨
ssh ubuntu@119.91.146.128

# å…‹éš†é¡¹ç›®
git clone https://github.com/Yinjianhua472392556/BaZi.git

# è¿›å…¥éƒ¨ç½²ç›®å½•
cd BaZi/bazi-miniprogram/deployment

# éªŒè¯é…ç½®
bash deploy_config.sh

# æ‰§è¡Œè‡ªåŠ¨éƒ¨ç½²
bash auto_deploy.sh
```

## ğŸ“± éƒ¨ç½²åçš„è®¿é—®åœ°å€

### APIæœåŠ¡
- **å¥åº·æ£€æŸ¥**: https://api.bazi365.top/health
- **APIæ–‡æ¡£**: https://api.bazi365.top/docs
- **ç®¡ç†é¢æ¿**: https://api.bazi365.top/admin

### å°ç¨‹åºé…ç½®
- **APIåœ°å€**: https://api.bazi365.top
- **å¾®ä¿¡åå°åŸŸåç™½åå•**: api.bazi365.top

## ğŸ”§ å¾®ä¿¡å…¬ä¼—å¹³å°é…ç½®

è®¿é—®ï¼šhttps://mp.weixin.qq.com

**å¼€å‘è®¾ç½® â†’ æœåŠ¡å™¨åŸŸå**ï¼š
```
requeståˆæ³•åŸŸåï¼š
api.bazi365.top

socketåˆæ³•åŸŸåï¼š
api.bazi365.top

uploadFileåˆæ³•åŸŸåï¼š
api.bazi365.top

downloadFileåˆæ³•åŸŸåï¼š
api.bazi365.top
```

## â±ï¸ éƒ¨ç½²æ—¶é—´é¢„ä¼°

- **ä»£ç æäº¤**: 2åˆ†é’Ÿ
- **æœåŠ¡å™¨éƒ¨ç½²**: 15åˆ†é’Ÿ
- **åŠŸèƒ½éªŒè¯**: 3åˆ†é’Ÿ
- **æ€»è®¡**: çº¦20åˆ†é’Ÿ

## ğŸ‰ éƒ¨ç½²å®ŒæˆéªŒè¯æ¸…å•

### æœåŠ¡å™¨éªŒè¯
- [ ] APIæœåŠ¡æ­£å¸¸å¯åŠ¨
- [ ] SSLè¯ä¹¦ç”³è¯·æˆåŠŸ  
- [ ] Nginxé…ç½®æ­£ç¡®
- [ ] é˜²ç«å¢™è§„åˆ™é…ç½®
- [ ] ç³»ç»ŸæœåŠ¡è‡ªå¯åŠ¨

### åŠŸèƒ½éªŒè¯
- [ ] å¥åº·æ£€æŸ¥æ¥å£æ­£å¸¸
- [ ] å…«å­—è®¡ç®—åŠŸèƒ½æ­£å¸¸
- [ ] èµ·ååŠŸèƒ½æ­£å¸¸
- [ ] ç”Ÿè‚–é…å¯¹åŠŸèƒ½æ­£å¸¸
- [ ] èŠ‚æ—¥æŸ¥è¯¢åŠŸèƒ½æ­£å¸¸

### å°ç¨‹åºéªŒè¯
- [ ] APIè¿æ¥æ­£å¸¸
- [ ] æ•°æ®è¯·æ±‚æˆåŠŸ
- [ ] é¡µé¢æ˜¾ç¤ºæ­£ç¡®
- [ ] ç”¨æˆ·äº¤äº’æ­£å¸¸

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœéƒ¨ç½²è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼š

1. **æŸ¥çœ‹éƒ¨ç½²æ—¥å¿—**: `/opt/bazi-app/logs/deploy.log`
2. **æ£€æŸ¥æœåŠ¡çŠ¶æ€**: `systemctl status bazi-api`
3. **æŸ¥çœ‹æœåŠ¡æ—¥å¿—**: `journalctl -u bazi-api -f`
4. **æµ‹è¯•APIè¿æ¥**: `curl https://api.bazi365.top/health`

## ğŸ”„ åç»­ç»´æŠ¤

### ä»£ç æ›´æ–°
```bash
cd /opt/bazi-app
git pull origin main
systemctl restart bazi-api
```

### è¯ä¹¦ç»­æœŸ
```bash
certbot renew --dry-run
```

### å¤‡ä»½æ•°æ®
```bash
bash /opt/bazi-app/scripts/backup.sh
```

---

**ğŸŠ æ­å–œï¼æ‚¨çš„å…«å­—è¿åŠ¿å°ç¨‹åºå³å°†ä¸Šçº¿ï¼**
