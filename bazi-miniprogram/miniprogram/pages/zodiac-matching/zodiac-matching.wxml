<!--zodiac-matching.wxml-->
<view class="container">
  <!-- ç®€åŒ–çš„é¡µé¢å¤´éƒ¨ -->
  <view class="page-header">
    <view class="page-title-container">
      <view class="page-title">ç”Ÿè‚–é…å¯¹ ğŸ’•</view>
      <view class="page-subtitle">æµ‹è¯•ç”Ÿè‚–ç¼˜åˆ†åŒ¹é…</view>
    </view>
    <view class="page-decoration">â™¥</view>
  </view>

  <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
  <view class="main-content">
    <!-- é…å¯¹é€‰æ‹©åŒºåŸŸ -->
    <view class="matching-section">
      <!-- ç”·ç”Ÿç”Ÿè‚–é€‰æ‹© -->
      <view class="zodiac-row">
        <text class="zodiac-label">ç”·ç”Ÿ</text>
        <picker class="zodiac-picker" 
                value="{{maleZodiacIndex}}" 
                range="{{zodiacOptions}}" 
                bindchange="onMaleZodiacChange">
          <view class="picker-display">
            <text class="zodiac-text">{{maleZodiac || 'ç‰›'}}</text>
            <text class="picker-arrow">â–¼</text>
          </view>
        </picker>
      </view>

      <!-- å¥³ç”Ÿç”Ÿè‚–é€‰æ‹© -->
      <view class="zodiac-row">
        <text class="zodiac-label">å¥³ç”Ÿ</text>
        <picker class="zodiac-picker" 
                value="{{femaleZodiacIndex}}" 
                range="{{zodiacOptions}}" 
                bindchange="onFemaleZodiacChange">
          <view class="picker-display">
            <text class="zodiac-text">{{femaleZodiac || 'çŒª'}}</text>
            <text class="picker-arrow">â–¼</text>
          </view>
        </picker>
      </view>

      <!-- é…å¯¹æŒ‰é’® -->
      <button class="match-button" bindtap="performMatching">
        é…å¯¹
      </button>
    </view>

    <!-- ç»“æœå±•ç¤ºåŒºåŸŸ -->
    <view class="result-section">
      <view class="result-header">
        <text class="result-icon">|</text>
        <text class="result-title">ç»“æœ</text>
      </view>
      
      <view class="result-content" wx:if="{{matchResult}}">
        <!-- é…å¯¹è¯„åˆ† -->
        <view class="score-container">
          <view class="score-circle">
            <text class="score-number">{{matchResult.score}}</text>
            <text class="score-unit">åˆ†</text>
          </view>
          <view class="score-info">
            <text class="score-level">{{matchResult.level}}</text>
            <text class="score-emoji">{{matchResult.emoji}}</text>
          </view>
        </view>

        <!-- é…å¯¹åˆ†æ -->
        <view class="analysis-section">
          <view class="analysis-title">é…å¯¹åˆ†æ</view>
          <text class="analysis-content">{{matchResult.analysis}}</text>
        </view>

        <!-- ä¼˜åŠ¿ç‰¹ç‚¹ -->
        <view class="advantages-section" wx:if="{{matchResult.advantages}}">
          <view class="section-title">âœ¨ ä¼˜åŠ¿ç‰¹ç‚¹</view>
          <text class="section-content">{{matchResult.advantages}}</text>
        </view>

        <!-- æ³¨æ„äº‹é¡¹ -->
        <view class="challenges-section" wx:if="{{matchResult.challenges}}">
          <view class="section-title">âš ï¸ æ³¨æ„äº‹é¡¹</view>
          <text class="section-content">{{matchResult.challenges}}</text>
        </view>

        <!-- ç›¸å¤„å»ºè®® -->
        <view class="suggestions-section" wx:if="{{matchResult.suggestions}}">
          <view class="section-title">ğŸ’¡ ç›¸å¤„å»ºè®®</view>
          <text class="section-content">{{matchResult.suggestions}}</text>
        </view>

        <!-- å¤šç»´åº¦è¯„åˆ†è¯¦æƒ… -->
        <view class="scores-section" wx:if="{{matchResult.scores}}">
          <view class="section-title">ğŸ“Š å¤šç»´åº¦è¯„åˆ†</view>
          <view class="score-items">
            <view class="score-item">
              <view class="score-label">æ„Ÿæƒ…åŒ¹é…åº¦</view>
              <view class="score-bar">
                <view class="score-progress" style="width: {{matchResult.scores.emotion}}%;"></view>
              </view>
              <view class="score-value">{{matchResult.scores.emotion}}åˆ†</view>
            </view>
            <view class="score-item">
              <view class="score-label">æ€§æ ¼äº’è¡¥åº¦</view>
              <view class="score-bar">
                <view class="score-progress" style="width: {{matchResult.scores.personality}}%;"></view>
              </view>
              <view class="score-value">{{matchResult.scores.personality}}åˆ†</view>
            </view>
            <view class="score-item">
              <view class="score-label">äº‹ä¸šåè°ƒåº¦</view>
              <view class="score-bar">
                <view class="score-progress" style="width: {{matchResult.scores.career}}%;"></view>
              </view>
              <view class="score-value">{{matchResult.scores.career}}åˆ†</view>
            </view>
            <view class="score-item">
              <view class="score-label">ç”Ÿæ´»ä¹ æƒ¯</view>
              <view class="score-bar">
                <view class="score-progress" style="width: {{matchResult.scores.lifestyle}}%;"></view>
              </view>
              <view class="score-value">{{matchResult.scores.lifestyle}}åˆ†</view>
            </view>
            <view class="score-item">
              <view class="score-label">æ²Ÿé€šé»˜å¥‘åº¦</view>
              <view class="score-bar">
                <view class="score-progress" style="width: {{matchResult.scores.communication}}%;"></view>
              </view>
              <view class="score-value">{{matchResult.scores.communication}}åˆ†</view>
            </view>
          </view>
        </view>

        <!-- å†å²åäººæ¡ˆä¾‹ -->
        <view class="couples-section" wx:if="{{matchResult.famousCouples}}">
          <view class="section-title">ğŸ‘« å†å²åäººæ¡ˆä¾‹</view>
          <view class="couples-list">
            <view class="couple-card" wx:for="{{matchResult.famousCouples}}" wx:key="name">
              <view class="couple-name">{{item.name}}</view>
              <view class="couple-story">{{item.story}}</view>
              <view class="couple-traits">ğŸ’ {{item.traits}}</view>
            </view>
          </view>
        </view>
      </view>

      <!-- é»˜è®¤ç©ºçŠ¶æ€ -->
      <view class="empty-result" wx:else>
        <text class="empty-text">è¯·é€‰æ‹©ç”Ÿè‚–è¿›è¡Œé…å¯¹åˆ†æ</text>
      </view>
    </view>
  </view>

  <!-- å…è´£å£°æ˜ -->
  <view class="disclaimer">
    æœ¬å°ç¨‹åºåŸºäºä¼ ç»Ÿæ–‡åŒ–å¼€å‘ï¼Œæ‰€æœ‰æµ‹ç®—ç»“æœä»…ä¾›å¨±ä¹å‚è€ƒã€‚
  </view>
</view>
