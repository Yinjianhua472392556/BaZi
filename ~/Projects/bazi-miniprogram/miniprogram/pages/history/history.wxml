<!--history.wxml-->
<view class="container">
  <view class="title">å†å²è®°å½•</view>
  
  <view wx:if="{{historyList.length > 0}}">
    <view class="history-item" wx:for="{{historyList}}" wx:key="id" bindtap="viewResult" data-item="{{item}}">
      <view class="history-header">
        <view class="history-name">{{item.birthInfo.name || 'åŒ¿åç”¨æˆ·'}}</view>
        <view class="history-date">{{item.formattedDate}}</view>
      </view>
      <view class="history-birth">{{item.birthInfo.date}} {{item.birthInfo.time}}</view>
      <view class="history-bazi">
        <text class="bazi-text">{{item.year}}</text>
        <text class="bazi-text">{{item.month}}</text>
        <text class="bazi-text">{{item.day}}</text>
        <text class="bazi-text">{{item.hour}}</text>
      </view>
    </view>
    
    <view class="clear-section">
      <button class="btn-secondary" bindtap="clearHistory">æ¸…ç©ºå†å²è®°å½•</button>
    </view>
  </view>
  
  <view wx:else class="empty-state">
    <view class="empty-icon">ğŸ“œ</view>
    <view class="empty-text">æš‚æ— å†å²è®°å½•</view>
    <navigator url="/pages/index/index" class="btn-primary">å¼€å§‹æµ‹ç®—</navigator>
  </view>
</view>
